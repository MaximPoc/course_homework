{
  "info": {
    "_postman_id": "a4461757-22b9-4b57-b5d1-b1c1b085882d",
    "name": "Maxym Potseuiev SOAP requests",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Book ISBN Numbers",
      "item": [
        {
          "name": "Is Valid ISBN13 Number",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9feff352-ace8-4505-817a-bcb66390458c",
                "exec": [
                  "const $ = cheerio.load(responseBody, { xmlMode: true });\r",
                  "\r",
                  "\r",
                  "pm.test(\"1. Статус код 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"2. Content-Type містить text/xml\", function () {\r",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"text/xml\");\r",
                  "});\r",
                  "\r",
                  "pm.test(\"3. Сервер присутній у заголовках (Server)\", function () {\r",
                  "    pm.response.to.have.header(\"Server\");\r",
                  "});\r",
                  "\r",
                  "pm.test(\"4. Час відповіді прийнятний (менше 1000мс)\", function () {\r",
                  "    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"5. Заголовок Cache-Control присутній\", function () {\r",
                  "    pm.response.to.have.header(\"Cache-Control\");\r",
                  "});\r",
                  "\r",
                  "\r",
                  "const validationResult = $('m\\\\:IsValidISBN13Result').text();\r",
                  "\r",
                  "pm.test(\"6. XML містить тег m:IsValidISBN13Result\", function () {\r",
                  "    pm.expect($('m\\\\:IsValidISBN13Result').length).to.be.above(0);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"7. Результат валідації ISBN є успішним (true)\", function () {\r",
                  "    pm.expect(validationResult).to.eql(\"true\");\r",
                  "});\r",
                  "\r",
                  "pm.test(\"8. Тіло відповіді містить SOAP Envelope\", function () {\r",
                  "    pm.expect(responseBody).to.include(\"soap:Envelope\");\r",
                  "});\r",
                  "\r",
                  "pm.test(\"9. Відповідь не містить помилок (Fault)\", function () {\r",
                  "    pm.expect($('soap\\\\:Fault').length).to.eql(0);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"10. Простір імен (namespace) відповідає ISBN сервісу\", function () {\r",
                  "    const namespace = $('m\\\\:IsValidISBN13Response').attr('xmlns:m');\r",
                  "    pm.expect(namespace).to.eql(\"http://webservices.daehosting.com/ISBN\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "b558d02e-037d-4dbc-8c55-3a41e5151ecb",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "text/xml; charset=utf-8",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">\n  <soap:Body>\n    <IsValidISBN13 xmlns=\"http://webservices.daehosting.com/ISBN\">\n      <sISBN>978-1-4612-9090-2</sISBN>\n    </IsValidISBN13>\n  </soap:Body>\n</soap:Envelope>"
            },
            "url": {
              "raw": "http://webservices.daehosting.com/services/isbnservice.wso",
              "protocol": "http",
              "host": [
                "webservices",
                "daehosting",
                "com"
              ],
              "path": [
                "services",
                "isbnservice.wso"
              ]
            },
            "description": "The test is done by calculation on the first 12 digits and compare the result with the checksum number at the end. You have to pass a 13 digits number."
          },
          "response": []
        },
        {
          "name": "Is Valid ISBN10 Number",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7098c443-0cba-48d1-8256-bc76b206d6f9",
                "exec": [
                  "const $ = cheerio.load(responseBody, { xmlMode: true });\r",
                  "\r",
                  "\r",
                  "pm.test(\"1. Статус код успішний (200 OK)\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"2. Перевірка формату передачі даних (XML)\", function () {\r",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"text/xml\");\r",
                  "});\r",
                  "\r",
                  "pm.test(\"3. Відповідь отримана вчасно (менше 1.2с)\", function () {\r",
                  "    pm.expect(pm.response.responseTime).to.be.below(1200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"4. Заголовок Content-Length присутній\", function () {\r",
                  "    pm.response.to.have.header(\"Content-Length\");\r",
                  "});\r",
                  "\r",
                  "pm.test(\"5. Перевірка кодування символів (UTF-8)\", function () {\r",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"charset=utf-8\");\r",
                  "});\r",
                  "\r",
                  "\r",
                  "const resultText = $('m\\\\:IsValidISBN10Result').text();\r",
                  "\r",
                  "pm.test(\"6. Результат валідації є логічним типом (true/false)\", function () {\r",
                  "    pm.expect(resultText).to.be.oneOf([\"true\", \"false\"]);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"7. Значення результату не є порожнім рядком\", function () {\r",
                  "    pm.expect(resultText.length).to.be.above(0);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"8. Тіло XML містить правильний простір імен для ISBN\", function () {\r",
                  "    const xmlContent = pm.response.text();\r",
                  "    pm.expect(xmlContent).to.include('xmlns:m=\"http://webservices.daehosting.com/ISBN\"');\r",
                  "});\r",
                  "\r",
                  "pm.test(\"9. Структура відповіді містить тег Response\", function () {\r",
                  "    pm.expect($('m\\\\:IsValidISBN10Response').length).to.equal(1);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"10. Відсутність тегу помилки (soap:Fault)\", function () {\r",
                  "    pm.expect($('soap\\\\:Fault').length).to.equal(0);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "4ace4cb1-4256-43b9-950b-6a2464908f75",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "text/xml; charset=utf-8",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">\n  <soap:Body>\n    <IsValidISBN10 xmlns=\"http://webservices.daehosting.com/ISBN\">\n      <sISBN>0-19-852663-6</sISBN>\n    </IsValidISBN10>\n  </soap:Body>\n</soap:Envelope>"
            },
            "url": {
              "raw": "http://webservices.daehosting.com/services/isbnservice.wso",
              "protocol": "http",
              "host": [
                "webservices",
                "daehosting",
                "com"
              ],
              "path": [
                "services",
                "isbnservice.wso"
              ]
            },
            "description": "The test is done by calculation on the first 9 digits and compare the result with the checksum number at the end. You have to pass a 10 digits number or 8 digits and an X."
          },
          "response": []
        }
      ],
      "id": "2ec1b1c6-8232-4902-a2be-a5e79a25db83",
      "description": "SOAP APIs for book ISBN numbers."
    }
  ]
}